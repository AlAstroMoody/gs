let r={id:null,options:{accurateTrackBounce:!0,clickmap:!0,defer:!1,ecommerce:!1,params:[],userParams:{},trackHash:!1,trackLinks:!0,type:0,webvisor:!1,triggerEvent:!1},router:null,env:"development",scriptSrc:"https://mc.yandex.ru/metrika/tag.js",debug:!1,ignoreRoutes:[],skipSamePath:!0};class k{constructor(){this.config=r}addFileExtension(){this.config.debug&&console.log("[vue-yandex-metrika] addFileExtension:",arguments)}extLink(){this.config.debug&&console.log("[vue-yandex-metrika] extLink:",arguments)}file(){this.config.debug&&console.log("[vue-yandex-metrika] file:",arguments)}getClientID(){this.config.debug&&console.log("[vue-yandex-metrika] getClientID:",arguments)}hit(){this.config.debug&&console.log("[vue-yandex-metrika] hit:",arguments)}notBounce(){this.config.debug&&console.log("[vue-yandex-metrika] notBounce:",arguments)}params(){this.config.debug&&console.log("[vue-yandex-metrika] params:",arguments)}reachGoal(){this.config.debug&&console.log("[vue-yandex-metrika] reachGoal:",arguments)}replacePhones(){this.config.debug&&console.log("[vue-yandex-metrika] replacePhones:",arguments)}setUserID(){this.config.debug&&console.log("[vue-yandex-metrika] setUserID:",arguments)}userParams(){this.config.debug&&console.log("[vue-yandex-metrika] userParams:",arguments)}}function w(t,e){let n;try{const o=(window==null?void 0:window.Ya)&&window.Ya.Metrika;e.tryMetrika1&&o?n=new window.Ya.Metrika(t):n=new window.Ya.Metrika2(t)}catch(o){console.error("Error initializing yandex metrika: ",o)}return n||(console.error("No Metrika or Metrika2 in window.Ya"),n=new k),v(n,t),n}function v(t,e){window[`yaCounter${e.id}`]=t}function b(t){const e=r;Object.keys(t).forEach(function(n){e[n]=t[n]})}function x(){if(!(typeof document>"u")){if(!r.id)throw new Error("[vue-yandex-metrika] Please enter a Yandex Metrika tracking ID");if(!r.router&&r.env!=="production")return console.warn("[vue-yandex-metrika] Router is not passed, autotracking is disabled")}}function M(t,e=r.scriptSrc){var n=document.head||document.getElementsByTagName("head")[0];const o=document.createElement("script");o.async=!0,o.charset="utf-8",o.src=e,n.appendChild(o),o.onload=t}function y(t){if(r.env==="production"){const e=Object.assign({id:r.id},r.options);let n=w(e,{tryMetrika1:r.scriptSrc==="https://mc.yandex.ru/metrika/watch.js"});return t.config.globalProperties.$yandexMetrika=n}else return console.warn('[vue-yandex-metrika] Tracking is disabled, because env option is not "production"'),r.debug&&console.warn("[vue-yandex-metrika] DEBUG is true: you'll see all API calls in the console"),t.config.globalProperties.$yandexMetrika=new k}function E(t){r.router&&r.router.afterEach(function(e,n){r.ignoreRoutes&&r.ignoreRoutes.indexOf(String(e.name))>-1||r.skipSamePath&&e.path==n.path||t.hit(e.path,{referer:n.path})})}class P{constructor(){this.metrika=null}setMetrika(e){this.metrika=e,this._setFunctions()}_setFunctions(){var e,n,o,s,d,c,u,h,m,g,f;const i=this.metrika;i&&(this.addFileExtension=(e=i.addFileExtension)===null||e===void 0?void 0:e.bind(i),this.extLink=(n=i.extLink)===null||n===void 0?void 0:n.bind(i),this.file=(o=i.file)===null||o===void 0?void 0:o.bind(i),this.getClientID=(s=i.getClientID)===null||s===void 0?void 0:s.bind(i),this.hit=(d=i.hit)===null||d===void 0?void 0:d.bind(i),this.notBounce=(c=i.notBounce)===null||c===void 0?void 0:c.bind(i),this.params=(u=i.params)===null||u===void 0?void 0:u.bind(i),this.reachGoal=(h=i.reachGoal)===null||h===void 0?void 0:h.bind(i),this.replacePhones=(m=i.replacePhones)===null||m===void 0?void 0:m.bind(i),this.setUserID=(g=i.setUserID)===null||g===void 0?void 0:g.bind(i),this.userParams=(f=i.userParams)===null||f===void 0?void 0:f.bind(i))}addFileExtension(e){throw new Error("Method not implemented.")}extLink(e,n){throw new Error("Method not implemented.")}file(e,n){throw new Error("Method not implemented.")}getClientID(e){throw new Error("Method not implemented.")}hit(e,n){throw new Error("Method not implemented.")}notBounce(e){throw new Error("Method not implemented.")}params(e){throw new Error("Method not implemented.")}reachGoal(e,n,o,s){throw new Error("Method not implemented.")}replacePhones(){throw new Error("Method not implemented.")}setUserID(e){throw new Error("Method not implemented.")}userParams(e){throw new Error("Method not implemented.")}}let l=new P,a=null;function D(t,e){p(),_(t),I(e)}function I(t){if(!a)throw Error("Update available after init");a.config.globalProperties.$yandexMetrika=l,b(t),x(),M(()=>{if(!a)throw Error("Update available after init");const e=y(a);l.setMetrika(e),E(l)},t.scriptSrc)}function _(t){p(),a=t}function p(){const t=new k;l.setMetrika(t)}export{D as i};
