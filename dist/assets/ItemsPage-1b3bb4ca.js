import{t as y,o as s,c as r,b as o,a as u,m as C,j as m,s as I,r as V,e as f,w as F,d as L,f as _,g as $,n as j,F as x,l as g,k as h,x as z}from"./index-9981c0e0.js";import{_ as O}from"./ThePreloader-e9517dee.js";const P={width:"15",height:"16",viewBox:"0 0 15 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},S=["stroke"],A=["stroke"],D={__name:"LoupeIcon",props:{color:{default:"red",type:String}},setup(i){const p=i,{color:t}=y(p);return(a,c)=>(s(),r("svg",P,[o("circle",{cx:"6.13442",cy:"5.83334",r:"4.73334",stroke:u(t),"stroke-width":"1.2"},null,8,S),o("path",{d:"M9.46777 9.83333L13.4678 14.5",stroke:u(t),"stroke-width":"1.2","stroke-linecap":"round"},null,8,A)]))}},E={class:"group-hover:font-bold group-hover:text-purple"},H={class:"mx-1 text-red group-hover:text-purple"},K={key:0,class:"text-orange"},M={key:0,class:"pl-3"},k={__name:"AppCraftItem",props:{item:{default:()=>{},type:Object},count:{type:Number,default:0}},setup(i){var n;const p=i,{item:t}=y(p),a=C(!1),c=m(()=>{var d;return!!((d=e==null?void 0:e.parents)!=null&&d.length)}),v=()=>c.value?a.value=!a.value:null,e=I.currentItem("items",((n=t.value)==null?void 0:n.id)||0),l=d=>e!=null&&e.count?Number(e.count[d]):0;return(d,W)=>{var b;const N=V("router-link");return s(),r("ol",null,[o("div",{class:j([{"font-bold":c.value},"flex items-center group"]),onClick:v},[f(N,{to:`/item/${u(t).id}`,class:"mr-2"},{default:F(()=>[f(D,{class:"group-hover:stroke-purple"})]),_:1},8,["to"]),o("button",E,[L(_(i.count?`${i.count}шт`:"")+" "+_(u(t).name)+" ",1),o("span",H,_(u(t).level>1?`${u(t).level} lvl`:""),1),c.value?(s(),r("span",K," [ "+_(a.value?"-":"+")+" ] ",1)):$("",!0)])],2),c.value&&a.value?(s(),r("ul",M,[(s(!0),r(x,null,g((b=u(e))==null?void 0:b.parents,(w,B)=>(s(),h(k,{count:l(w.id),key:B,item:w},null,8,["count","item"]))),128))])):$("",!0)])}}},R={key:1,class:"flex w-full z-10 max-h-screen gap-4 h-full"},T={class:"w-1/3"},q=o("div",{class:"text-2xl px-4 border-purple text-purple rounded-md border w-fit mb-2"}," Базовые арты ",-1),G={class:"h-5/6 scrollbar-custom"},J={class:"w-1/3"},Q=o("div",{class:"text-2xl px-4 border-purple text-purple rounded-md border w-fit mb-2"},"Крафт",-1),U={class:"h-5/6 scrollbar-custom"},Z={__name:"ItemsPage",setup(i){const p=m(()=>I.entities.items),t=C(p.value),a=m(()=>t.value.filter(e=>{var l;return!((l=e==null?void 0:e.parents)!=null&&l.length)})),c=m(()=>t.value.filter(e=>{var l;return(l=e==null?void 0:e.parents)==null?void 0:l.length})),v=e=>t.value=e;return(e,l)=>p.value.length?(s(),r("main",R,[o("div",T,[q,o("ul",G,[(s(!0),r(x,null,g(a.value,n=>(s(),h(k,{key:n.id,item:n},null,8,["item"]))),128))])]),o("div",J,[Q,o("ul",U,[(s(!0),r(x,null,g(c.value,n=>(s(),h(k,{key:n.id,item:n},null,8,["item"]))),128))])]),f(z,{class:"w-1/3",onFilteredItems:l[0]||(l[0]=n=>v(n))})])):(s(),h(O,{key:0,class:"mt-20"}))}};export{Z as default};
