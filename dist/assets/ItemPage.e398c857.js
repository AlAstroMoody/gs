import{q as I,c as C,s as L,r as M,o as F,j as H,v as t,a as s,b as o,d as a,t as r,k as $,e as i,x as d,f as l,w as u,F as h,i as p,T as P}from"./index.e43175d8.js";import{_ as S}from"./AppItemsPopup.27269f28.js";import{s as f}from"./store.79a7d66d.js";import{a as q}from"./transitions.4bf612d5.js";import{u as A}from"./useGoblinState.6312a5ec.js";import D from"./QuestionIcon.63f87d0c.js";import"./AppPopup.8332f41f.js";import"./ExitIcon.3165ef9b.js";import"./FilterIcon.7af439af.js";import"./AppSidebar.24ec5bd7.js";import"./AppFilter.0f92214c.js";import"./index.af050076.js";const v={strength:"\u0441\u0438\u043B\u0430",agility:"\u043B\u043E\u0432\u043A\u043E\u0441\u0442\u044C",intelligence:"\u0440\u0430\u0437\u0443\u043C",attack:"\u0443\u0440\u043E\u043D",defence:"\u0437\u0430\u0449\u0438\u0442\u0430",visibility:"\u043E\u0431\u0437\u043E\u0440",luck:"\u0443\u0434\u0430\u0447\u0430",hp:"\u0425\u041F",mp:"\u041C\u041F",resist:"\u0441\u043E\u043F\u0440\u043E\u0442\u0438\u0432\u043B\u0435\u043D\u0438\u0435 \u043C\u0430\u0433\u0438\u0438",hp_regeneration:"\u0440\u0435\u0433\u0435\u043D\u0435\u0440\u0430\u0446\u0438\u044F \u0437\u0434\u043E\u0440\u043E\u0432\u044C\u044F",mp_regeneration:"\u0440\u0435\u0433\u0435\u043D\u0435\u0440\u0430\u0446\u0438\u044F \u043C\u0430\u043D\u044B",stealth_detection:"\u043E\u0431\u043D\u0430\u0440\u0443\u0436\u0435\u043D\u0438\u0435 \u043D\u0435\u0432\u0438\u0434\u0438\u043C\u043E\u043A",as:"\u0441\u043A\u043E\u0440\u043E\u0441\u0442\u044C \u0430\u0442\u0430\u043A\u0438",ms:"\u0441\u043A\u043E\u0440\u043E\u0441\u0442\u044C \u0431\u0435\u0433\u0430",manaburn:"\u043A\u0430\u0436\u0434\u044B\u0439 \u0443\u0434\u0430\u0440 \u0441\u0436\u0438\u0433\u0430\u0435\u0442",evade:"\u0443\u043A\u043B\u043E\u043D\u0435\u043D\u0438\u0435",aura:"\u0430\u0443\u0440\u0430",active:"\u0430\u043A\u0442\u0438\u0432",distant_resist:"\u0441\u043D\u0438\u0436\u0435\u043D\u0438\u0435 \u0443\u0440\u043E\u043D\u0430 \u043E\u0442 \u0434\u0430\u043B\u044C\u043D\u0435\u0433\u043E \u0431\u043E\u044F"},E={key:0},G={key:1,class:"mx-4 mb-96 flex flex-1 flex-col justify-between"},O={class:"headline mt-6"},R={class:"mb-4 mt-10 flex flex-wrap items-center"},z={class:"flex w-full xs:w-auto"},J=["src"],K={class:"ml-4 flex flex-col content-center justify-center"},Q={key:0},U={key:1},W={key:2},X={class:"text-lg text-red"},Y={key:3},Z={key:4},ee={class:"text-red"},te={key:5},se={class:"text-md ml-2 flex h-fit flex-1 justify-end whitespace-nowrap text-second"},oe=["innerHTML"],ne={key:0,class:"my-2"},re={key:0},ae={key:0},ie={key:1},de={key:2},ce={key:1,class:"border-bg-silver rounded-lg border p-2"},le={class:"text-red hover:border-b"},_e={key:0},me={key:1},ue={key:2,class:"my-2 rounded-lg border border-silver p-2"},he={class:"text-red hover:border-b"},pe={key:0},fe={key:1},Le={__name:"ItemPage",async setup(ve){let b,y;const{user:x,addItem:j}=A(),T=I();C(()=>f.entities.items).value.length||([b,y]=L(()=>f.setItems("items")),await b,y());const e=f.currentItem("items",T.params.id),B=C(()=>x.inventory.length<6?"\u0434\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0432 \u0438\u043D\u0432\u0435\u043D\u0442\u0430\u0440\u044C":"\u0438\u043D\u0432\u0435\u043D\u0442\u0430\u0440\u044C \u043F\u0435\u0440\u0435\u043F\u043E\u043B\u043D\u0435\u043D"),N=()=>{x.inventory.length<6&&j(e)},V=_=>(e==null?void 0:e.count)&&e.count[_]?`${e.count[_]}\u0448\u0442`:"",k=M(null);return F(()=>{q([k])}),(_,ye)=>{var g,w;const m=H("router-link");return t(e)?(s(),o("div",G,[a("div",{ref_key:"content",ref:k},[a("div",O,r(t(e).name),1),a("div",R,[a("div",z,[t(e).src?(s(),o("img",{key:0,src:`.${t(e).src}`,alt:"logo",class:"h-24 w-24"},null,8,J)):(s(),$(D,{key:1,color:"red"})),a("div",K,[t(e).level?(s(),o("div",Q," \u0442\u0440\u0435\u0431\u0443\u0435\u043C\u044B\u0439 \u0443\u0440\u043E\u0432\u0435\u043D\u044C: "+r(t(e).level),1)):(s(),o("div",U,"\u041D\u0435\u0442 \u043E\u0433\u0440\u0430\u043D\u0438\u0447\u0435\u043D\u0438\u044F \u043F\u043E \u0443\u0440\u043E\u0432\u043D\u044E")),(g=t(e).goblins)!=null&&g.length?(s(),o("div",W,[i(" \u0422\u043E\u043B\u044C\u043A\u043E \u0434\u043B\u044F \u043A\u043B\u0430\u0441\u0441\u0430: "),a("span",X,r(t(e).goblins.join(", ")),1)])):(s(),o("div",Y,"\u041F\u043E\u0434\u0445\u043E\u0434\u0438\u0442 \u0434\u043B\u044F \u0432\u0441\u0435\u0445 \u043A\u043B\u0430\u0441\u0441\u043E\u0432")),t(e).craft?(s(),o("div",Z,[i(" \u043A\u0440\u0430\u0444\u0442 \u0432: "),a("span",ee,r(t(e).craft),1)])):d("",!0),t(e).boss?(s(),o("div",te,[i(" \u0411\u043E\u0441\u0441: "),l(m,{to:`/boss?name=${(w=t(e).boss)==null?void 0:w.name}`,class:"mr-2 text-red"},{default:u(()=>{var n;return[i(r((n=t(e).boss)==null?void 0:n.name),1)]}),_:1},8,["to"])])):d("",!0)])]),a("div",se,[a("button",{class:"rounded-2xl border border-solid border-second px-2 py-4 ease-out hover:border-red hover:text-red",onClick:N},r(B.value),1)])]),a("div",{class:"body my-2",innerHTML:t(e).description},null,8,oe),t(e).params?(s(),o("ul",ne,[i(" \u0411\u043E\u043D\u0443\u0441\u044B \u043F\u0440\u0435\u0434\u043C\u0435\u0442\u0430: "),(s(!0),o(h,null,p(Object.keys(t(e).params),(n,c)=>(s(),o("li",{key:c,class:"ml-7"},[t(e).params[n]&&t(v)[n]?(s(),o("div",re,[n==="manaburn"?(s(),o("span",ae,r(t(v)[n])+" "+r(t(e).params[n])+" \u043C\u0430\u043D\u044B \u043F\u0440\u043E\u0442\u0438\u0432\u043D\u0438\u043A\u0443 ",1)):(s(),o("span",ie,r(t(v)[n])+": "+r(t(e).params[n]),1)),["as","mp_regeneration","resist","distant_resist","evade"].includes(n)?(s(),o("span",de," % ")):d("",!0)])):d("",!0)]))),128))])):d("",!0),t(e).children.length?(s(),o("div",ce,[i(' \u0418\u0437 \u043F\u0440\u0435\u0434\u043C\u0435\u0442\u0430 "'+r(t(e).name)+'" \u043C\u043E\u0436\u043D\u043E \u0441\u043A\u0440\u0430\u0444\u0442\u0438\u0442\u044C: ',1),(s(!0),o(h,null,p(t(e).children,(n,c)=>(s(),o("span",{class:"text-md text-end",key:n.id},[l(m,{to:`/item/${n.id}`},{default:u(()=>[a("span",le,r(n.name),1),c!==t(e).children.length-1?(s(),o("span",_e,", ")):(s(),o("span",me,"; "))]),_:2},1032,["to"])]))),128))])):d("",!0),t(e).parents.length?(s(),o("div",ue,[i(' \u041F\u0440\u0435\u0434\u043C\u0435\u0442 "'+r(t(e).name)+'" \u043A\u0440\u0430\u0444\u0442\u0438\u0442\u0441\u044F \u0438\u0437: ',1),(s(!0),o(h,null,p(t(e).parents,(n,c)=>(s(),o("span",{class:"text-md text-end",key:n.id},[l(m,{to:`/item/${n.id}`},{default:u(()=>[a("span",he,r(V(n.id))+" "+r(n.name),1),c!==t(e).parents.length-1?(s(),o("span",pe,", ")):(s(),o("span",fe,"; "))]),_:2},1032,["to"])]))),128))])):d("",!0)],512),(s(),$(P,{to:"body"},[l(S,{class:"absolute right-2 top-12 block bg-second md:hidden"})]))])):(s(),o("div",E,"\u0422\u0430\u043A\u043E\u0433\u043E \u043F\u0440\u0435\u0434\u043C\u0435\u0442\u0430 \u043D\u0435\u0442"))}}};export{Le as default};
