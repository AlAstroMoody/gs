import{e as q,P as Le,a as h,v as w,x as p,B as D,u as x,C as ne,y as n,I as _e,G as ue,E as H,L as le,O as ce,z as oe,o as De,R as Xe,n as we,U as ze,w as Ae,D as Se,V as re,W as Ve,X as Ce,Y as Oe,A as Me}from"./@vue-DCWQxOwg.js";import{u as Ne,b as Re}from"./vue-router-BYyBkGBh.js";import{a as Ie,_ as Pe}from"./BaseItemImage-C9m259HV.js";import{s as he,_ as We,t as Ee}from"./index-B1T5C-7F.js";import{b as ke}from"./@vueuse-C3BhMRlV.js";import{_ as Ue}from"./ThePreloader-ChSG7DZz.js";import"./yandex-metrika-vue3-BLhOeDw4.js";import"./firebase-H5BtYLRW.js";import"./@firebase-BA115Y1H.js";import"./idb-BXWtuYvb.js";const je={key:0,class:"text-orange"},qe={class:"text-sm flex justify-between"},Ge={key:0,class:"text-silver text-left mr-4"},Ke={key:1,class:"text-right ml-auto"},Je={class:"text-green"},Qe={key:1,class:"pl-6"},Ze={key:0},et={class:"text-green text-sm"},tt={key:1},lt={class:"text-green text-sm"},Be={__name:"AppCraftTestItem",props:{item:{default:()=>{},type:Object},count:{type:Number,default:0},activeChild:{type:Boolean,default:!1}},emits:["choice"],setup(P,{emit:W}){const L=Ne(),ee=P,c=W,e=q(()=>he.entities.items),{item:a}=Le(ee),$=h(!1),T=q(()=>{var M,y;return(y=(M=a.value)==null?void 0:M.craft)==null?void 0:y.length}),G=M=>{$.value=!$.value,c("choice",M)};function X(M){return e.value.find(y=>y.code===M)}function E(M){document.startViewTransition?document.startViewTransition(()=>{c("choice",M)}):c("choice",M)}const N=q(()=>a.value.name===L.query.name);return(M,y)=>(p(),w("ol",null,[x(a)?(p(),w("div",{key:0,class:ne([{"font-bold":T.value},"flex items-center group"]),onClick:y[1]||(y[1]=C=>G(x(a)))},[n("button",{onClick:y[0]||(y[0]=C=>E(x(a)))},[_e(Ie,{url:x(a).src,class:"mr-2 mb-1",transitionName:`active-item-icon-${x(a).code}`},null,8,["url","transitionName"])]),n("div",{class:ne(["border rounded-r-lg p-3 h-16 group-hover:border-orange",[{"border-orange":N.value},{"border-purple":P.activeChild}]])},[n("button",{class:ne(["group-hover:text-orange",{"text-orange":N.value}])},[ue(H(x(a).name)+" "+H(P.count?`${P.count} шт.`:"")+" ",1),y[4]||(y[4]=n("span",{class:"mx-1 text-red group-hover:text-purple"},null,-1)),T.value?(p(),w("span",je," [ "+H($.value?"-":"+")+" ] ",1)):D("",!0)],2),n("div",qe,[x(a).level!=="0"?(p(),w("span",Ge,H(x(a).level)+" lvl ",1)):D("",!0),x(a).forge?(p(),w("div",Ke,[y[5]||(y[5]=ue(" крафт: ")),n("span",Je," ("+H(x(a).alterForge?"разные варианты":x(a).forge)+") ",1)])):D("",!0)])],2)],2)):D("",!0),T.value&&$.value?(p(),w("ul",Qe,[x(a).alterCraft.length?(p(),w("div",Ze,[n("span",et," ("+H(x(a).forge)+") ",1)])):D("",!0),(p(!0),w(le,null,ce(x(a).craft,C=>(p(),oe(Be,{count:C.count,key:C.code,item:X(C.code),onChoice:y[2]||(y[2]=I=>c("choice",I)),activeChild:N.value},null,8,["count","item","activeChild"]))),128)),x(a).alterCraft.length?(p(),w("div",tt,[n("span",lt," ("+H(x(a).alterForge)+") ",1),(p(!0),w(le,null,ce(x(a).alterCraft,C=>(p(),oe(Be,{count:C.count,key:C.code,item:X(C.code),onChoice:y[3]||(y[3]=I=>c("choice",I)),activeChild:N.value},null,8,["count","item","activeChild"]))),128))])):D("",!0)])):D("",!0)]))}},ot={class:"fixed inset-0 z-50 bg-gray-900 bg-opacity-90"},nt={class:"absolute top-4 left-4 z-10 bg-gray-800 text-white px-4 py-2 rounded-lg",style:{"pointer-events":"none"}},at={__name:"ItemsTree",props:{item:{}},emits:["close"],setup(P,{emit:W}){const L=P,ee=W,c=h(null),e=h(null),a=h(1),$=h(0),T=h(0),G=h(!1),X=h(0),E=h(0),N=h(30),M=h(0),y=h(null),C=h(null),I=h(new Set),Y=h(new Set),z=q(()=>he.entities.items),k=h(new Map),S=h(new Map),ae=["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#98D8C8","#F7DC6F","#BB8FCE","#85C1E9","#F8C471","#82E0AA","#F1948A","#D7BDE2"],K=h(new Map),J=h(null),se=Re();function de(o){if(!K.value.has(o)){const l=K.value.size%ae.length;K.value.set(o,ae[l])}return K.value.get(o)}function me(o){const l=[],i=[{node:o,parentId:null,level:0,parentInstanceId:null}];let m=0;for(k.value.clear(),S.value.clear(),K.value.clear();i.length;){const{node:f,parentId:_,level:u,parentInstanceId:A}=i.shift();if(!f)continue;l[u]||(l[u]=[]);const O=`${f.code}_${m++}`;if(l[u].push({node:f,parentId:_,instanceId:O,parentInstanceId:A}),A&&(S.value.has(A)||S.value.set(A,[]),S.value.get(A).push(O)),f.craft&&f.craft.length)for(const F of f.craft){const R=z.value.find(j=>j.code===F.code);i.push({node:R,parentId:f.code,level:u+1,parentInstanceId:O})}}const d=0,b=0,r=0,g=120;for(let f=0;f<l.length;f++){const _=l[f],u=r+(f<6?f*g+(f===0?0:80):6*g+(f-6)*60),A=Math.PI/18*f,O=f<6?2*Math.PI:Math.PI+Math.PI*.5;for(let F=0;F<_.length;F++){const{node:R,instanceId:j}=_[F],ie=A+O*F/_.length,Te=(e.value?e.value.measureText(R.name).width:80)+(f===0?20:10)*2,Fe=d+u*Math.cos(ie)-Te/2,Ye=b+u*Math.sin(ie)-N.value/2;k.value.set(j,{x:Fe,y:Ye,width:Te,height:N.value,code:R.code,name:R.name,instanceId:j,level:f})}}}function ve(){const o=Object.values(k.value);let l=!0,i=0;const m=5;for(;l&&i<m;){l=!1,i++;for(let d=0;d<o.length;d++)for(let b=d+1;b<o.length;b++){const r=o[d],g=o[b],f=r.width||100,_=r.height||N.value,u=g.width||100,A=g.height||N.value,O=Math.abs(r.x-g.x),F=Math.abs(r.y-g.y),R=(f+u)/2+30,j=(_+A)/2+20;if(O<R&&F<j){l=!0;const ie=r.x<g.x?-20:20,xe=r.y<g.y?-15:15;r.x+=ie,r.y+=xe,g.x-=ie,g.y-=xe,r.x<0?r.isLeftOfRoot=!0:r.x>0&&(r.isLeftOfRoot=!1),r.y<0?r.isAboveRoot=!0:r.y>0&&(r.isAboveRoot=!1),g.x<0?g.isLeftOfRoot=!0:g.x>0&&(g.isLeftOfRoot=!1),g.y<0?g.isAboveRoot=!0:g.y>0&&(g.isAboveRoot=!1)}}}}function pe(){const o=Object.values(k.value),l=new Map;for(const i of o)l.has(i.level)||l.set(i.level,[]),l.get(i.level).push(i);for(const[i,m]of l){if(i===0)continue;const d=m.filter(f=>f.isLeftOfRoot),b=m.filter(f=>!f.isLeftOfRoot),r=m.filter(f=>f.isAboveRoot),g=m.filter(f=>!f.isAboveRoot);if(d.length>1){const _=d[0].x;for(let u=1;u<d.length;u++)d[u].x=_-u*120}if(b.length>1){const _=b[0].x;for(let u=1;u<b.length;u++)b[u].x=_+u*120}if(r.length>1){const _=r[0].y;for(let u=1;u<r.length;u++)r[u].y=_-u*80}if(g.length>1){const _=g[0].y;for(let u=1;u<g.length;u++)g[u].y=_+u*80}}}function Q(){for(const[o,l]of S.value){const i=k.value.get(o);if(!i)continue;const m=z.value.find(r=>r.code===i.code);if(!m)continue;const d=i.x+i.width/2,b=i.y+i.height/2;for(const r of l){const g=k.value.get(r);if(!g)continue;const f=g.x+g.width/2,_=g.y+g.height/2,u=`${o}-${r}`,A=Y.value.has(u);I.value.size>0&&!A?e.value.globalAlpha=.15:e.value.globalAlpha=1,A?(e.value.strokeStyle=de(m.code),e.value.lineWidth=i.level===0?6:4,e.value.shadowColor="rgba(255, 255, 255, 0.5)",e.value.shadowBlur=4):(e.value.strokeStyle=de(m.code),e.value.lineWidth=i.level===0?4:2,e.value.shadowColor="rgba(0, 0, 0, 0.3)",e.value.shadowBlur=2),e.value.beginPath(),e.value.moveTo(d,b),e.value.lineTo(f,_),e.value.stroke(),e.value.shadowColor="transparent",e.value.globalAlpha=1}}}function U(){for(const[o,l]of k.value){const i=I.value.has(o),m=C.value===o,d=J.value===o;I.value.size>0&&!(i||m||d)?e.value.globalAlpha=.18:e.value.globalAlpha=1;const b=l.level===0?20:10;let r=l.name;const g=z.value.find(A=>A.code===l.code);if(g&&g.craft&&g.craft.length>0){for(const[A,O]of S.value)if(O.includes(l.instanceId)){const F=z.value.find(R=>R.code===k.value.get(A).code);if(F&&F.craft){const R=F.craft.find(j=>j.code===l.code);R&&R.count&&R.count>1&&(r=`${l.name} (${R.count})`)}break}}const _=e.value.measureText(r).width+b*2;let u;if(l.level===0?u="#800080":l.level===1?u="#FF6B6B":l.level===2?u="#96CEB4":l.level===3?u="#FFD700":l.level===4?u="#FF8C00":l.level===5?u="#9370DB":l.level===6?u="#20B2AA":l.level===7?u="#FF69B4":u="#32CD32",i)e.value.fillStyle=u,e.value.shadowColor="rgba(255, 255, 255, 0.5)",e.value.shadowBlur=8,e.value.shadowOffsetX=0,e.value.shadowOffsetY=0;else if(m){const A=u.replace(")",", 0.3)").replace("rgb","rgba");e.value.fillStyle=A,e.value.shadowColor="transparent"}else e.value.fillStyle=u,e.value.shadowColor="transparent";e.value.fillRect(l.x,l.y,_,N.value),i?(e.value.strokeStyle="#ffffff",e.value.lineWidth=3):(e.value.strokeStyle="#222222",e.value.lineWidth=2),e.value.strokeRect(l.x,l.y,_,N.value),i?(e.value.fillStyle="#ffffff",e.value.shadowColor="rgba(0, 0, 0, 0.8)",e.value.shadowBlur=2,e.value.shadowOffsetX=1,e.value.shadowOffsetY=1):(e.value.fillStyle=l.level===0?"#ffffff":"#000000",e.value.shadowColor="transparent"),e.value.textAlign="center",e.value.textBaseline="middle",e.value.font=l.level===0?"14px Arial":"12px Arial",e.value.fillText(r,l.x+_/2,l.y+N.value/2),e.value.globalAlpha=1}}function Z(){c.value.width=window.innerWidth,c.value.height=window.innerHeight}function be(o){const l=c.value.getBoundingClientRect(),i=(o.clientX-l.left-c.value.width/2-$.value)/a.value,m=(o.clientY-l.top-c.value.height/2-T.value)/a.value;let d=null;for(const[b,r]of k.value)if(i>=r.x&&i<=r.x+r.width&&m>=r.y&&m<=r.y+r.height){d={id:b,...r};break}if(d){if(J.value===d.id){const b=encodeURIComponent(d.name);se.push(`/craft?name=${b}`);return}J.value=d.id,C.value=d.id,ge(d.id),V()}else J.value=null,C.value=null,I.value.clear(),Y.value.clear(),V()}function v(o){o.preventDefault();const l=o.deltaY>0?.9:1.1,i=Math.max(.1,Math.min(3,a.value*l)),m=c.value.getBoundingClientRect(),d=o.clientX-m.left,b=o.clientY-m.top,r=i/a.value;$.value=d-c.value.width/2-(d-c.value.width/2-$.value)*r,T.value=b-c.value.height/2-(b-c.value.height/2-T.value)*r,a.value=i,V()}function t(o){o.button===0&&(G.value=!0,X.value=o.clientX,E.value=o.clientY,M.value=Date.now(),c.value.style.cursor="grabbing",o.preventDefault())}function s(o){if(G.value){const l=o.clientX-X.value,i=o.clientY-E.value;$.value+=l,T.value+=i,X.value=o.clientX,E.value=o.clientY,y.value&&clearTimeout(y.value),e.value.save(),e.value.clearRect(0,0,c.value.width,c.value.height),e.value.translate(c.value.width/2+$.value,c.value.height/2+T.value),e.value.scale(a.value,a.value),te(),e.value.restore(),o.preventDefault()}else{const l=c.value.getBoundingClientRect(),i=(o.clientX-l.left-c.value.width/2-$.value)/a.value,m=(o.clientY-l.top-c.value.height/2-T.value)/a.value;let d=null;for(const[b,r]of k.value)if(i>=r.x&&i<=r.x+r.width&&m>=r.y&&m<=r.y+r.height){d={id:b,...r};break}d&&d.id!==C.value?(C.value=d.id,ge(d.id),V()):!d&&C.value&&(C.value=null,I.value.clear(),Y.value.clear(),V())}}function B(o){(o.button===0||!o.button)&&(G.value=!1,c.value.style.cursor="grab",V())}function V(){e.value.clearRect(0,0,c.value.width,c.value.height),e.value.save(),e.value.translate(c.value.width/2+$.value,c.value.height/2+T.value),e.value.scale(a.value,a.value),me(L.item),ve(),pe(),te(),e.value.restore()}function te(){L.item&&(Q(),U(),Q(),U())}function fe(){ee("close")}function $e(){a.value=1,$.value=0,T.value=0,V()}function ye(){if(L.item){for(const[,o]of k.value)if(o.code===L.item.code&&o.level===0){const l=o.x+o.width/2,i=o.y+o.height/2;$.value=-l*a.value,T.value=-i*a.value,V();break}}}function ge(o){I.value.clear(),Y.value.clear(),I.value.add(o);const l=S.value.get(o)||[];for(const i of l)I.value.add(i),Y.value.add(`${o}-${i}`);for(const[i,m]of S.value)m.includes(o)&&(I.value.add(i),Y.value.add(`${i}-${o}`))}function He(o){const l=c.value.getBoundingClientRect(),i=(o.clientX-l.left-$.value)/a.value,m=(o.clientY-l.top-T.value)/a.value;for(const[,d]of k.value)if(i>=d.x&&i<=d.x+d.width&&m>=d.y&&m<=d.y+d.height){const b=encodeURIComponent(d.name);se.push(`/craft?name=${b}`);break}}return De(()=>{e.value=c.value.getContext("2d"),Z(),ke(window,"resize",Z),ke(document,"mousemove",s),ke(document,"mouseup",B),V()}),(o,l)=>{var i;return p(),w("div",ot,[n("button",{onClick:fe,class:"absolute top-4 right-4 z-10 warcraft-btn warcraft-btn-red",style:{"pointer-events":"auto"}}," ✕ Закрыть "),n("div",nt,H(((i=P.item)==null?void 0:i.name)||"Дерево крафта"),1),n("div",{class:"absolute bottom-4 left-4 z-10 flex items-center gap-4",style:{"pointer-events":"auto"}},[n("div",{class:"flex gap-2"},[n("button",{onClick:$e,class:"warcraft-btn warcraft-btn-blue"},"🔄 Сброс"),n("button",{onClick:ye,class:"warcraft-btn warcraft-btn-green"},"🎯 Центр")]),l[0]||(l[0]=n("span",{class:"ml-3 text-xs text-gray-200 opacity-80 select-none"},"даблклик для перехода на предмет",-1))]),n("canvas",{ref_key:"canvas",ref:c,onWheel:Xe(v,["prevent"]),onMousedown:t,onMousemove:s,onClick:be,onDblclick:He,style:{position:"absolute",top:"0",left:"0",cursor:"grab","pointer-events":"auto"}},null,544)])}}},st={class:"flex w-full max-h-screen gap-6 h-full pr-8 z-20 overflow-hidden"},it={class:"text-sm text-gray-300"},rt={key:0,class:"text-yellow-400"},ut={key:1,class:"text-xs text-gray-400 mt-1"},ct={class:"bg-gray-800 text-white p-4 rounded-lg border-2 border-gray-600 shadow-lg"},dt={class:"mb-4"},vt={class:"flex w-full rounded-lg border border-gray-500 bg-gray-700 px-3 text-gray-200 ease-out"},ft={class:"space-y-3"},gt={class:"flex items-center justify-between p-2 bg-gray-700 rounded border border-gray-500"},ht={class:"flex items-center justify-between p-2 bg-gray-700 rounded border border-gray-500"},mt={class:"flex items-center justify-between p-2 bg-gray-700 rounded border border-gray-500"},pt={class:"p-2 bg-gray-700 rounded border border-gray-500"},bt=["value"],yt={class:"flex items-center gap-4 mb-4"},xt={class:"flex-shrink-0"},wt={class:"flex-1"},Ct={class:"text-xl font-bold text-white leading-5"},kt={key:0,class:"text-sm text-gray-300"},_t={class:"text-purple font-semibold"},It={class:"flex gap-2"},Bt={class:"bg-silver p-4 rounded-lg border border-gray-300 mb-4 text-black"},$t=["innerHTML"],Tt=["innerHTML"],At={class:"flex flex-wrap gap-2"},Mt=["onClick","onMouseenter"],Dt={__name:"ItemsTestPage",setup(P){const W=Re(),L=Ne(),{show:ee,hide:c}=Ee,e=q(()=>he.entities.items),a=h(null),$=h(null),T=h(null),G=h(null),X=h(null),E=h("calc(100vh - 200px)"),N=h("calc(100vh - 500px)");function M(){we(()=>{if(T.value){const v=T.value.offsetHeight,t=window.innerHeight-v-100;E.value=`${t}px`}if(X.value){const v=X.value.offsetTop,t=window.innerHeight-v-50;N.value=`${t}px`}})}function y(v){return v.replaceAll("|n","<br/>").replaceAll("<br/><br/>","")}const C=h(""),I=h(!1),Y=h(!1),z=h(!1),k=h(""),S=q(()=>he.entities.goblins||[]);function ae(v){return v.toLowerCase().replace(/ё/g,"е").replace(/c/g,"с").replace(/a/g,"а").replace(/o/g,"о").replace(/e/g,"е").replace(/p/g,"р").replace(/y/g,"у").replace(/x/g,"х").replace(/\s+/g," ").trim()}function K(v,t){const s=ae(v),B=ae(t);return s.includes("только")&&s.includes(B)||s.includes(`для ${B}`)?!0:B.split(" ").some(te=>{if(te.length<=2)return!1;if(s.includes(te))return!0;const fe=te.replace(/[аяеёиыоуьъ]$/,"");return fe.length>=3?["","а","я","е","ё","и","ы","ом","ой","ой","у","ю","ем","ем","и","ы"].some(ye=>{const ge=fe+ye;return s.includes(ge)}):!1})}const J=q(()=>{var t;if(!((t=e.value)!=null&&t.length))return[];let v=e.value.filter(s=>s.name.toLowerCase().includes(C.value.toLowerCase()));return I.value&&(v=v.filter(s=>s.desc.includes("Удача"))),z.value&&(v=v.filter(s=>s.desc.includes("Аура"))),k.value&&(v=v.filter(s=>K(s.desc,k.value))),Y.value?v=v.sort((s,B)=>s.level-B.level):v=v.sort((s,B)=>B.level-s.level),v}),se=q(()=>{var v;return(v=e.value)!=null&&v.length?e.value.filter(t=>t.craft.some(s=>{var B;return s.code===((B=a.value)==null?void 0:B.code)})):[]});function de(v){const t=e.value.find(s=>s.code===v.code);t&&(a.value&&a.value.code!==t.code&&($.value=a.value),c(),a.value=t,ve(t.name))}function me(v){a.value=v,ve(v.name)}function ve(v){c(),document.startViewTransition?document.startViewTransition(()=>{W.push({name:"craft",query:{name:v}})}):W.push({name:"craft",query:{name:v}})}function pe(){c(),document.startViewTransition?document.startViewTransition(()=>{W.go(-1)}):W.go(-1)}function Q(){e.value.length&&(a.value=e.value.find(v=>v.name===L.query.name))}const U=h(!1),Z=h(!1);De(()=>{c(),L.query.name&&Q(),we(()=>{setTimeout(()=>{Z.value=!0,M()},100)}),window.addEventListener("resize",M)}),ze(()=>{window.removeEventListener("resize",M)}),Ae(()=>L.query.name,v=>{c(),v&&document.startViewTransition?document.startViewTransition(()=>{Q(),U.value=!1}):(Q(),U.value=!1),we(()=>{M()})}),Ae(e,()=>{Q()});function be(){C.value="",I.value=!1,Y.value=!1,z.value=!1,k.value=""}return(v,t)=>(p(),w(le,null,[e.value.length?D("",!0):(p(),oe(Ue,{key:0,class:"mt-20"})),n("main",st,[n("div",{class:ne(["w-1/2 animate-on-mount",{"slide-in-left":Z.value}])},[n("div",{ref_key:"leftBlockHeader",ref:T,class:"bg-gray-800 text-white p-4 rounded-lg border-2 border-gray-600 shadow-lg mb-4"},[t[11]||(t[11]=n("h2",{class:"text-xl font-bold mb-2"},"📜 Список предметов",-1)),n("div",it,[ue(" Найдено: "+H(J.value.length)+" из "+H(e.value.length)+" предметов ",1),I.value||z.value||k.value?(p(),w("span",rt," (фильтры активны) ")):D("",!0),k.value?(p(),w("div",ut,' Поиск по классу: "'+H(k.value)+'" ',1)):D("",!0)])],512),n("div",{class:"scrollbar-custom",style:Se({height:E.value})},[(p(!0),w(le,null,ce(J.value,s=>(p(),oe(Be,{class:"pl-2",key:s.code,item:s,onChoice:t[0]||(t[0]=B=>me(B)),count:s.count},null,8,["item","count"]))),128))],4)],2),n("div",{class:ne(["w-1/3 pt-14 animate-on-mount-top",{"slide-in-top delay-200":Z.value}])},[n("div",ct,[t[18]||(t[18]=n("h3",{class:"text-lg font-bold mb-4"},"🔍 Фильтры",-1)),n("div",dt,[n("div",vt,[re(n("input",{autocomplete:"off","onUpdate:modelValue":t[1]||(t[1]=s=>C.value=s),placeholder:" ",id:"input",class:"relative z-10 w-full py-3 bg-transparent outline-none"},null,512),[[Ve,C.value]]),t[12]||(t[12]=n("label",{for:"input",class:"absolute p-2 duration-300 ease-out"}," поиск по названию ",-1))])]),n("div",ft,[n("label",gt,[t[13]||(t[13]=n("span",{class:"text-sm"},"🎲 С удачей",-1)),re(n("input",{type:"checkbox",class:"h-4 w-4 bg-gray-600 accent-green","onUpdate:modelValue":t[2]||(t[2]=s=>I.value=s)},null,512),[[Ce,I.value]])]),n("label",ht,[t[14]||(t[14]=n("span",{class:"text-sm"},"📈 По возрастанию уровня",-1)),re(n("input",{type:"checkbox",class:"h-4 w-4 bg-gray-600 accent-green","onUpdate:modelValue":t[3]||(t[3]=s=>Y.value=s)},null,512),[[Ce,Y.value]])]),n("label",mt,[t[15]||(t[15]=n("span",{class:"text-sm"},"🔮 По ауре",-1)),re(n("input",{type:"checkbox",class:"h-4 w-4 bg-gray-600 accent-green","onUpdate:modelValue":t[4]||(t[4]=s=>z.value=s)},null,512),[[Ce,z.value]])]),n("div",pt,[t[17]||(t[17]=n("span",{class:"text-sm block mb-2"},"👹 По классу гоблина",-1)),re(n("select",{"onUpdate:modelValue":t[5]||(t[5]=s=>k.value=s),class:"w-full bg-gray-600 text-gray-200 text-sm p-1 rounded border border-gray-500"},[t[16]||(t[16]=n("option",{value:""},"Все классы",-1)),(p(!0),w(le,null,ce(S.value,s=>(p(),w("option",{key:s.code,value:s.name},H(s.name),9,bt))),128))],512),[[Oe,k.value]])]),n("button",{onClick:be,class:"w-full bg-gradient-to-r from-gray-600 to-gray-700 hover:from-gray-700 hover:to-gray-800 text-white px-3 py-2 rounded-lg font-medium shadow-md hover:shadow-lg transition-all duration-200 border border-gray-500 text-sm"}," 🔄 Сбросить фильтры ")])])],2),n("div",{class:ne(["w-1/2 pt-8 animate-on-mount-right max-h-screen overflow-y-auto",{"slide-in-right delay-300":Z.value}])},[a.value?(p(),w("div",{key:0,ref_key:"rightBlockHeader",ref:G,class:"p-4 bg-gray-800 text-white rounded-2xl pl-8 border-2 border-gray-600 shadow-lg"},[n("div",yt,[n("div",xt,[_e(Ie,{url:a.value.src,class:"w-16 h-16",transitionName:`active-item-icon-${a.value.code}`},null,8,["url","transitionName"])]),n("div",wt,[n("div",Ct,H(a.value.name),1),a.value.level!=="0"?(p(),w("div",kt,[t[19]||(t[19]=ue(" Требуемый уровень: ")),n("span",_t,H(a.value.level),1)])):D("",!0)]),n("div",It,[$.value?(p(),w("button",{key:0,onClick:pe,class:"bg-gradient-to-r from-gray-500 to-gray-600 hover:from-gray-600 hover:to-gray-700 text-white px-3 py-2 rounded-lg font-medium shadow-md hover:shadow-lg transition-all duration-200 border border-gray-400 text-sm"}," ⬅️ Назад ")):D("",!0),n("button",{onClick:t[6]||(t[6]=s=>U.value=!0),onMouseenter:t[7]||(t[7]=s=>x(ee)("Схема крафта",s)),onMouseleave:t[8]||(t[8]=(...s)=>x(c)&&x(c)(...s)),class:"bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white px-3 py-2 rounded-lg font-medium shadow-md hover:shadow-lg transition-all duration-200 border border-purple-400 text-sm"}," 🧪 Эксперимент ",32)])]),n("div",Bt,[n("div",{innerHTML:y(a.value.desc),class:"leading-6"},null,8,$t)]),a.value.extended?(p(),oe(Pe,{key:0,class:"-my-4 mb-4"},{button:Me(()=>t[20]||(t[20]=[ue("📖 Подробнее")])),content:Me(()=>[n("div",{innerHTML:y(a.value.extended),class:"leading-6 bg-silver p-3 rounded border border-gray-200 text-black"},null,8,Tt)]),_:1})):D("",!0)],512)):D("",!0),se.value.length?(p(),w("div",{key:1,ref_key:"rightBlockContent",ref:X,class:"mt-6"},[t[21]||(t[21]=n("div",{class:"py-2 text-lg font-semibold text-gray-200 mb-3"},"⚔️ Используется в:",-1)),n("div",At,[(p(!0),w(le,null,ce(se.value,s=>(p(),w("div",{key:s.code,class:"group relative"},[n("button",{class:"flex items-center rounded-lg border-2 border-gray-500 bg-gray-700 hover:border-yellow-400 hover:shadow-[0_0_12px_gold] hover:bg-gray-600 transition-all duration-200",onClick:B=>de(s),onMouseenter:B=>x(ee)(s.name,B),onMouseleave:t[9]||(t[9]=(...B)=>x(c)&&x(c)(...B))},[_e(Ie,{url:s.src,transitionName:`active-item-icon-${s.code}`},null,8,["url","transitionName"])],40,Mt)]))),128))])],512)):D("",!0)],2),U.value?(p(),oe(at,{key:0,item:a.value,onClose:t[10]||(t[10]=s=>U.value=!1),class:"z-20"},null,8,["item"])):D("",!0)])],64))}},Ot=We(Dt,[["__scopeId","data-v-24611b80"]]);export{Ot as default};
