import{r as x,a as o,c as i,e as p,v as B,x as N,y as V,u as D,i as c,b as t,k as a,l as r,F as f,p as g,z as I,A as F,q as $,_ as q,d as v}from"./index.7d6f281d.js";import{_ as z}from"./AppPopup.ae81e443.js";import E from"./FilterIcon.ea36fef9.js";const ce={__name:"AppItemsPopup",setup(P){const s=x(null),e=()=>{s.value.open()};return(m,d)=>(o(),i("div",null,[p(E,{color:"black",onClick:e,width:40,height:40}),p(z,{ref_key:"popup",ref:s,onWheel:d[0]||(d[0]=V(()=>{},["stop"]))},{default:B(()=>[p(N)]),_:1},512)]))}},G={class:"lg:my-0 mx-auto px-2 xl:px-6 h-fit w-full lg:w-fit mb-16 bg-gray border-silver rounded-t-2xl border border-b-0 animate-opacity"},L={class:"flex mb-2 justify-center"},T={class:"overflow-hidden"},U=["src"],W={class:"w-56 ml-4"},H=t("div",{class:"mx-auto subtitle"},`'\u041A\u0440\u044F\u0433\u0437 "\u042F\u0434\u0440\u043E"'`,-1),J={class:"w-full mx-auto text-center p-1 rounded-lg border border-second"},K={class:"flex justify-center"},O={class:"flex flex-col flex-wrap w-fit h-fit max-w-[132px]"},Q={class:"w-full flex-wrap xs:flex hidden"},R=["onMouseenter"],X=["src","onClick"],Y=["onClick"],Z={class:"px-1 xl:px-6"},ee=t("span",null,[v("\u043E\u0441\u043D\u043E\u0432\u043D\u044B\u0435 "),t("br"),v("\u043F\u0430\u0440\u0430\u043C\u0435\u0442\u0440\u044B:")],-1),te={class:"ml-1"},se={class:"px-1 xl:px-6"},le=t("span",null,[v(" \u0434\u043E\u043F\u043E\u043B\u043D\u0438\u0442\u0435\u043B\u044C\u043D\u044B\u0435 "),t("br")],-1),ae=t("span",null,"\u043F\u0430\u0440\u0430\u043C\u0435\u0442\u0440\u044B:",-1),ne={class:"ml-1"},ue={__name:"AppUserBoard",setup(P){const{user:s,itemsStats:e,removeItem:m}=D(),d=c(()=>{let n=0;switch(s.goblin.mainParam){case"\u0421\u0438\u043B\u0430":n=s.goblin.stats.strength+e.value.strength;break;case"\u041B\u043E\u0432\u043A\u043E\u0441\u0442\u044C":n=s.goblin.stats.agility+e.value.agility;break;default:n=s.goblin.stats.intelligence+e.value.intelligence;break}return e.value.attack+n}),C=c(()=>e?Math.floor(1+e.value.defence+(s.goblin.stats.agility+e.value.agility)/3):0),M=c(()=>e.value.strength*20+e.value.hp),S=c(()=>e.value.intelligence*15+e.value.mp),u=x(""),b=x(!1),y=(n,_)=>{b.value=!!n,n&&(u.value=n,u.value.index=_)},j=c(()=>[{title:"hp:",value:M},{title:"mp:",value:S},{title:"\u0441\u0438\u043B\u0430:",value:e.value.strength},{title:"\u043B\u043E\u0432\u043A\u043E\u0441\u0442\u044C:",value:e.value.agility},{title:"\u0440\u0430\u0437\u0443\u043C:",value:e.value.intelligence},{title:"\u0443\u0440\u043E\u043D:",value:d.value+s.attackPoints*100},{title:"\u0437\u0430\u0449\u0438\u0442\u0430:",value:C.value+s.defencePoints*3}]),A=c(()=>[{title:"\u0443\u0434\u0430\u0447\u0430:",value:e.value.luck||0},{title:"\u043C\u0430\u0433. \u0440\u0435\u0437\u0438\u0441\u0442:",value:`${e.value.resist||0}%`},{title:"c\u043A\u043E\u0440\u043E\u0441\u0442\u044C \u0431\u0435\u0433\u0430:",value:e.value.ms||0},{title:"c\u043A\u043E\u0440\u043E\u0441\u0442\u044C \u0430\u0442\u0430\u043A\u0438:",value:e.value.as>=500?"max":`${e.value.as||0}%`},{title:"\u0440\u0435\u0433\u0435\u043D\u0435\u0440\u0430\u0446\u0438\u044F hp:",value:`${e.value.hp_regeneration+Math.floor(e.value.strength/100)||0}/\u0441\u0435\u043A`},{title:"\u0440\u0435\u0433\u0435\u043D\u0435\u0440\u0430\u0446\u0438\u044F mp:",value:`${e.value.mp_regeneration+Math.floor(e.value.intelligence/100)||0}%`}]);return(n,_)=>(o(),i("div",G,[t("div",L,[t("div",T,[t("img",{src:a(s).goblin.src,alt:"logo",class:"h-16 w-16"},null,8,U)]),t("div",W,[H,t("div",J," \u0423\u0440\u043E\u0432\u0435\u043D\u044C "+r(a(s).level)+", "+r(a(s).goblin.name),1)])]),t("div",K,[t("div",O,[t("div",Q,[(o(),i(f,null,g(6,l=>{var w,k;return t("div",{key:l,class:"bg-slot relative border-second h-16 w-16 m-one",onMouseenter:h=>y(a(s).inventory[l-1],l),onMouseleave:_[0]||(_[0]=h=>y({}))},[I(t("div",{class:"absolute -top-12 bg-silver border rounded-md text-primary p-2 whitespace-nowrap border-primary"},r(u.value.name),513),[[F,b.value&&((w=u.value)==null?void 0:w.name)&&((k=u.value)==null?void 0:k.index)===l]]),a(s).inventory[l-1]&&a(s).inventory[l-1].src?(o(),i("img",{key:0,src:a(s).inventory[l-1].src,alt:"img",onClick:h=>a(m)(l)},null,8,X)):$("",!0),a(s).inventory[l-1]&&!a(s).inventory[l-1].src?(o(),i("div",{key:1,class:"flex w-16 h-16 bg-silver",onClick:h=>a(m)(l)},[p(q,{class:"m-auto"})],8,Y)):$("",!0)],40,R)}),64))])]),t("div",Z,[ee,(o(!0),i(f,null,g(a(j),l=>(o(),i("div",{class:"flex justify-between",key:l.title},[v(r(l.title)+" ",1),t("span",te,r(l.value),1)]))),128))]),t("div",se,[le,ae,(o(!0),i(f,null,g(a(A),l=>(o(),i("div",{class:"flex justify-between",key:l.title},[v(r(l.title)+" ",1),t("span",ne,r(l.value),1)]))),128))])])]))}};export{ue as _,ce as a};
