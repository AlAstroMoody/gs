import{q as N,c as g,s as V,j as I,f as t,o as s,a as o,b as i,t as r,l as k,d as c,F as _,i as m,v as d,e as u,T as L,w}from"./index.89c46e73.js";import{_ as F}from"./AppItemsPopup.fde694f3.js";import{s as p}from"./store.c2d3ec43.js";import{u as H}from"./useGoblinState.78d00bd8.js";import M from"./QuestionIcon.c136451f.js";import"./AppPopup.816c5305.js";import"./ExitIcon.d4e39be2.js";import"./FilterIcon.1b2d74ee.js";import"./AppSidebar.b7827800.js";import"./AppFilter.3b8c3384.js";const h={strength:"\u0441\u0438\u043B\u0430",agility:"\u043B\u043E\u0432\u043A\u043E\u0441\u0442\u044C",intelligence:"\u0440\u0430\u0437\u0443\u043C",attack:"\u0443\u0440\u043E\u043D",defence:"\u0437\u0430\u0449\u0438\u0442\u0430",visibility:"\u043E\u0431\u0437\u043E\u0440",luck:"\u0443\u0434\u0430\u0447\u0430",hp:"\u0425\u041F",mp:"\u041C\u041F",resist:"\u0441\u043E\u043F\u0440\u043E\u0442\u0438\u0432\u043B\u0435\u043D\u0438\u0435 \u043C\u0430\u0433\u0438\u0438",hp_regeneration:"\u0440\u0435\u0433\u0435\u043D\u0435\u0440\u0430\u0446\u0438\u044F \u0437\u0434\u043E\u0440\u043E\u0432\u044C\u044F",mp_regeneration:"\u0440\u0435\u0433\u0435\u043D\u0435\u0440\u0430\u0446\u0438\u044F \u043C\u0430\u043D\u044B",stealth_detection:"\u043E\u0431\u043D\u0430\u0440\u0443\u0436\u0435\u043D\u0438\u0435 \u043D\u0435\u0432\u0438\u0434\u0438\u043C\u043E\u043A",as:"\u0441\u043A\u043E\u0440\u043E\u0441\u0442\u044C \u0430\u0442\u0430\u043A\u0438",ms:"\u0441\u043A\u043E\u0440\u043E\u0441\u0442\u044C \u0431\u0435\u0433\u0430",manaburn:"\u043A\u0430\u0436\u0434\u044B\u0439 \u0443\u0434\u0430\u0440 \u0441\u0436\u0438\u0433\u0430\u0435\u0442",evade:"\u0443\u043A\u043B\u043E\u043D\u0435\u043D\u0438\u0435",aura:"\u0430\u0443\u0440\u0430",active:"\u0430\u043A\u0442\u0438\u0432",distant_resist:"\u0441\u043D\u0438\u0436\u0435\u043D\u0438\u0435 \u0443\u0440\u043E\u043D\u0430 \u043E\u0442 \u0434\u0430\u043B\u044C\u043D\u0435\u0433\u043E \u0431\u043E\u044F"},P={key:0},S={key:1,class:"mx-4 mb-96 flex flex-1 flex-col justify-between"},q={class:"headline mt-6"},A={class:"mt-10 mb-4 flex flex-wrap items-center"},D={class:"flex w-full xs:w-auto"},E=["src"],G={class:"ml-4 flex flex-col content-center justify-center"},O={key:0},R={key:1},z={key:2},J={class:"text-lg text-red"},K={key:3},Q={class:"text-md ml-2 flex h-fit flex-1 justify-end whitespace-nowrap text-second"},U=["innerHTML"],W={key:0,class:"my-2"},X={key:0},Y={key:0},Z={key:1},ee={key:2},te={key:1,class:"border-bg-silver rounded-lg border p-2"},se={class:"text-red hover:border-b"},oe={key:0},ne={key:1},re={key:2,class:"my-2 rounded-lg border border-silver p-2"},ie={class:"text-red hover:border-b"},ae={key:0},de={key:1},ke={__name:"ItemPage",async setup(ce){let v,y;const{user:b,addItem:j}=H(),C=N();g(()=>p.entities.items).value.length||([v,y]=V(()=>p.setItems("items")),await v,y());const e=p.currentItem("items",C.params.id),T=g(()=>b.inventory.length<6?"\u0434\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0432 \u0438\u043D\u0432\u0435\u043D\u0442\u0430\u0440\u044C":"\u0438\u043D\u0432\u0435\u043D\u0442\u0430\u0440\u044C \u043F\u0435\u0440\u0435\u043F\u043E\u043B\u043D\u0435\u043D"),$=()=>{b.inventory.length<6&&j(e)},B=l=>(e==null?void 0:e.count)&&e.count[l]?`${e.count[l]}\u0448\u0442`:"";return(l,_e)=>{var x;const f=I("router-link");return t(e)?(s(),o("div",S,[i("div",null,[i("div",q,r(t(e).name),1),i("div",A,[i("div",D,[t(e).src?(s(),o("img",{key:0,src:t(e).src,alt:"logo",class:"h-24 w-24"},null,8,E)):(s(),k(M,{key:1,color:"red"})),i("div",G,[t(e).level?(s(),o("div",O," \u0442\u0440\u0435\u0431\u0443\u0435\u043C\u044B\u0439 \u0443\u0440\u043E\u0432\u0435\u043D\u044C: "+r(t(e).level),1)):(s(),o("div",R,"\u041D\u0435\u0442 \u043E\u0433\u0440\u0430\u043D\u0438\u0447\u0435\u043D\u0438\u044F \u043F\u043E \u0443\u0440\u043E\u0432\u043D\u044E")),(x=t(e).goblins)!=null&&x.length?(s(),o("div",z,[c(" \u0422\u043E\u043B\u044C\u043A\u043E \u0434\u043B\u044F \u043A\u043B\u0430\u0441\u0441\u0430: "),i("span",J,r(t(e).goblins.join(", ")),1)])):(s(),o("div",K,"\u041F\u043E\u0434\u0445\u043E\u0434\u0438\u0442 \u0434\u043B\u044F \u0432\u0441\u0435\u0445 \u043A\u043B\u0430\u0441\u0441\u043E\u0432"))])]),i("div",Q,[i("button",{class:"rounded-2xl border border-solid border-second px-2 py-4 ease-out hover:border-red hover:text-red",onClick:$},r(t(T)),1)])]),i("div",{class:"body my-2",innerHTML:t(e).description},null,8,U),t(e).params?(s(),o("ul",W,[c(" \u0411\u043E\u043D\u0443\u0441\u044B \u043F\u0440\u0435\u0434\u043C\u0435\u0442\u0430: "),(s(!0),o(_,null,m(Object.keys(t(e).params),(n,a)=>(s(),o("li",{key:a,class:"ml-7"},[t(e).params[n]&&t(h)[n]?(s(),o("div",X,[n==="manaburn"?(s(),o("span",Y,r(t(h)[n])+" "+r(t(e).params[n])+" \u043C\u0430\u043D\u044B \u043F\u0440\u043E\u0442\u0438\u0432\u043D\u0438\u043A\u0443 ",1)):(s(),o("span",Z,r(t(h)[n])+": "+r(t(e).params[n]),1)),["as","mp_regeneration","resist","distant_resist"].includes(n)?(s(),o("span",ee," % ")):d("",!0)])):d("",!0)]))),128))])):d("",!0),t(e).children.length?(s(),o("div",te,[c(' \u0418\u0437 \u043F\u0440\u0435\u0434\u043C\u0435\u0442\u0430 "'+r(t(e).name)+'" \u043C\u043E\u0436\u043D\u043E \u0441\u043A\u0440\u0430\u0444\u0442\u0438\u0442\u044C: ',1),(s(!0),o(_,null,m(t(e).children,(n,a)=>(s(),o("span",{class:"text-md text-end",key:n.id},[u(f,{to:`/item/${n.id}`},{default:w(()=>[i("span",se,r(n.name),1),a!==t(e).children.length-1?(s(),o("span",oe,", ")):(s(),o("span",ne,"; "))]),_:2},1032,["to"])]))),128))])):d("",!0),t(e).parents.length?(s(),o("div",re,[c(' \u041F\u0440\u0435\u0434\u043C\u0435\u0442 "'+r(t(e).name)+'" \u043A\u0440\u0430\u0444\u0442\u0438\u0442\u0441\u044F \u0438\u0437: ',1),(s(!0),o(_,null,m(t(e).parents,(n,a)=>(s(),o("span",{class:"text-md text-end",key:n.id},[u(f,{to:`/item/${n.id}`},{default:w(()=>[i("span",ie,r(B(n.id))+" "+r(n.name),1),a!==t(e).parents.length-1?(s(),o("span",ae,", ")):(s(),o("span",de,"; "))]),_:2},1032,["to"])]))),128))])):d("",!0)]),(s(),k(L,{to:"body"},[u(F,{class:"absolute top-12 right-2 block bg-second md:hidden"})]))])):(s(),o("div",P,"\u0422\u0430\u043A\u043E\u0433\u043E \u043F\u0440\u0435\u0434\u043C\u0435\u0442\u0430 \u043D\u0435\u0442"))}}};export{ke as default};
