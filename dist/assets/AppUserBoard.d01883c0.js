import{c as v,r as h,u as V,G as D,a as n,b as i,g as a,d as s,t as u,f as $,F as f,j as p,e as m,J as I,M as A,x as S}from"./index.55f217f3.js";import{u as F}from"./useGoblinState.14933650.js";import G from"./CollapseIcon.3a6f40fd.js";import z from"./QuestionIcon.936152c4.js";import"./plugin-vue_export-helper.21dcd24c.js";const E=["src"],J={key:1,class:"inset-x-0 h-fit w-full rounded-t-2xl border border-b-0 border-silver bg-gray px-2 md:w-fit xl:px-6"},L={class:"mb-2 flex justify-center"},T={class:"overflow-hidden"},U=["src"],q={class:"ml-4 w-3/4"},H=s("div",{class:"subtitle mx-auto"},'\u041A\u0440\u044F\u0433\u0437 "\u042F\u0434\u0440\u043E"',-1),K={class:"flex justify-between"},O={class:"mr-auto w-56 rounded-lg border border-second p-1 text-center"},Q={class:"mb-2 flex justify-center"},R={class:"flex h-fit w-fit max-w-[132px] flex-col flex-wrap"},W={class:"hidden w-full flex-wrap xs:flex"},X=["onMouseenter"],Y=["src","onClick"],Z=["onClick"],ee={class:"flex-1 pl-1 pr-4 xl:px-6"},te=s("span",null,[m("\u043E\u0441\u043D\u043E\u0432\u043D\u044B\u0435 "),s("br"),m("\u043F\u0430\u0440\u0430\u043C\u0435\u0442\u0440\u044B:")],-1),se={class:"ml-1"},le={class:"px-1 xl:px-6"},ae=s("span",null,[m(" \u0434\u043E\u043F\u043E\u043B\u043D\u0438\u0442\u0435\u043B\u044C\u043D\u044B\u0435 "),s("br")],-1),oe=s("span",null,"\u043F\u0430\u0440\u0430\u043C\u0435\u0442\u0440\u044B:",-1),ne={class:"ml-1"},me={__name:"AppUserBoard",setup(ie){const{user:l,itemsStats:e,removeItem:g}=F(),C=v(()=>{let o=0;switch(l.goblin.mainParam){case"\u0421\u0438\u043B\u0430":o=l.goblin.stats.strength+e.value.strength;break;case"\u041B\u043E\u0432\u043A\u043E\u0441\u0442\u044C":o=l.goblin.stats.agility+e.value.agility;break;default:o=l.goblin.stats.intelligence+e.value.intelligence;break}return e.value.attack+o}),M=v(()=>e?Math.floor(1+e.value.defence+(l.goblin.stats.agility+e.value.agility)/3):0),j=v(()=>e.value.strength*20+e.value.hp),P=v(()=>e.value.intelligence*15+e.value.mp),d=h(""),x=h(!1),b=(o,r)=>{x.value=!!o,o&&(d.value=o,d.value.index=r)},B=v(()=>[{title:"hp:",value:j},{title:"mp:",value:P},{title:"\u0441\u0438\u043B\u0430:",value:e.value.strength},{title:"\u043B\u043E\u0432\u043A\u043E\u0441\u0442\u044C:",value:e.value.agility},{title:"\u0440\u0430\u0437\u0443\u043C:",value:e.value.intelligence},{title:"\u0443\u0440\u043E\u043D:",value:C.value+l.attackPoints*100},{title:"\u0437\u0430\u0449\u0438\u0442\u0430:",value:M.value+l.defencePoints*3}]),N=v(()=>[{title:"\u0443\u0434\u0430\u0447\u0430:",value:e.value.luck||0},{title:"\u043C\u0430\u0433. \u0440\u0435\u0437\u0438\u0441\u0442:",value:`${e.value.resist||0}%`},{title:"c\u043A\u043E\u0440\u043E\u0441\u0442\u044C \u0431\u0435\u0433\u0430:",value:(e.value.ms||0)+l.goblin.stats_increase.ms},{title:"c\u043A\u043E\u0440\u043E\u0441\u0442\u044C \u0430\u0442\u0430\u043A\u0438:",value:e.value.as>=500?"max":`${e.value.as||0}%`},{title:"\u0440\u0435\u0433\u0435\u043D\u0435\u0440\u0430\u0446\u0438\u044F hp:",value:`${e.value.hp_regeneration+Math.floor(e.value.strength/100)||0}/\u0441\u0435\u043A`},{title:"\u0440\u0435\u0433\u0435\u043D\u0435\u0440\u0430\u0446\u0438\u044F mp:",value:`${e.value.mp_regeneration+Math.floor(e.value.intelligence/100)||0}%`}]),c=h(!0),{width:w}=V();return D(w,()=>{["xxs","xs","sm"].includes(w.value)&&(c.value=!1)}),c.value=!1,(o,r)=>c.value?(n(),i("div",J,[s("div",L,[s("div",T,[s("img",{src:`.${a(l).goblin.src}`,alt:"logo",class:"h-16 w-16"},null,8,U)]),s("div",q,[H,s("div",K,[s("div",O," \u0423\u0440\u043E\u0432\u0435\u043D\u044C "+u(a(l).level)+", "+u(a(l).goblin.name),1),$(G,{onClick:r[1]||(r[1]=t=>c.value=!c.value)})])])]),s("div",Q,[s("div",R,[s("div",W,[(n(),i(f,null,p(6,t=>{var y,k;return s("div",{key:t,class:"relative m-one h-16 w-16 border-second bg-slot",onMouseenter:_=>b(a(l).inventory[t-1],t),onMouseleave:r[2]||(r[2]=_=>b({}))},[I(s("div",{class:"absolute -top-12 whitespace-nowrap rounded-md border border-primary bg-silver p-2 text-primary"},u(d.value.name),513),[[A,x.value&&((y=d.value)==null?void 0:y.name)&&((k=d.value)==null?void 0:k.index)===t]]),a(l).inventory[t-1]&&a(l).inventory[t-1].src?(n(),i("img",{key:0,src:`.${a(l).inventory[t-1].src}`,alt:"img",onClick:_=>a(g)(t)},null,8,Y)):S("",!0),a(l).inventory[t-1]&&!a(l).inventory[t-1].src?(n(),i("div",{key:1,class:"flex h-16 w-16 bg-silver",onClick:_=>a(g)(t)},[$(z,{class:"m-auto"})],8,Z)):S("",!0)],40,X)}),64))])]),s("div",ee,[te,(n(!0),i(f,null,p(a(B),t=>(n(),i("div",{class:"flex justify-between",key:t.title},[m(u(t.title)+" ",1),s("span",se,u(t.value),1)]))),128))]),s("div",le,[ae,oe,(n(!0),i(f,null,p(a(N),t=>(n(),i("div",{class:"flex justify-between",key:t.title},[m(u(t.title)+" ",1),s("span",ne,u(t.value),1)]))),128))])])])):(n(),i("img",{key:0,src:`.${a(l).goblin.src}`,alt:"logo",class:"right-2 bottom-2 h-16 w-16 md:left-2 md:right-auto",onClick:r[0]||(r[0]=t=>c.value=!c.value)},null,8,E))}};export{me as default};
