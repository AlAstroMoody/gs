import{s as B}from"./index-ce7e7fba.js";import{r as t,o as D,l as W,m as k,e as C,D as E}from"./@vue-5e60537e.js";import"./yandex-metrika-vue3-31715aa8.js";import"./@vueuse-6ebe5ee8.js";import"./vue-router-ee9931d1.js";import"./firebase-6ed2b05d.js";import"./@firebase-40ef63b3.js";import"./idb-81bdbf9b.js";import"./picocolors-7608e719.js";import"./tailwindcss-animation-delay-bb812693.js";import"./tailwindcss-f34f17cc.js";import"./tailwind-scrollbar-b75acc9f.js";import"./nouislider-b0ecb9ee.js";const S={__name:"ItemsTree",props:{data:Array},setup(Y){const h=Y,l=t(null),e=t(null),m=t(1),c=t(0),v=t(0),p=t(!1),_=t(0),g=t(0),d=t(20),s=t(50),T=t(10);D(()=>{e.value=l.value.getContext("2d"),x()});function y(a){a.preventDefault();const u=Math.sign(a.deltaY),o=l.value.getBoundingClientRect(),i=a.clientX-o.left,n=a.clientY-o.top;u>0?(m.value*=.9,c.value+=(i-c.value)*(1-.9),v.value+=(n-v.value)*(1-.9)):(m.value*=1.1,c.value-=(i-c.value)*.1,v.value-=(n-v.value)*.1),e.value.clearRect(0,0,l.value.width,l.value.height),e.value.save(),e.value.translate(c.value,v.value),x(),e.value.restore()}function R(a){p.value=!0,_.value=a.clientX,g.value=a.clientY}function b(a){p.value&&(c.value+=a.clientX-_.value,v.value+=a.clientY-g.value,_.value=a.clientX,g.value=a.clientY,e.value.clearRect(0,0,l.value.width,l.value.height),e.value.save(),e.value.translate(c.value,v.value),e.value.scale(m.value,m.value),x(),e.value.restore())}function A(a){a.button===0&&(p.value=!1)}function X(a,u,o){const i=e.value.measureText(a.name).width+20;let n=Math.max(100,i);e.value.fillStyle="#fff",e.value.fillRect(u,o,n,s.value),e.value.fillStyle="#000",e.value.textAlign="center",e.value.textBaseline="middle",e.value.font="16px Arial",e.value.fillText(a.name,u+n/2,o+s.value/2),a.craft&&a.craft.forEach((M,w)=>{const f=u+n+d.value,r=o+(s.value+T.value)*w;X(M,f,r),e.value.beginPath(),e.value.moveTo(u+n,o+s.value/2),e.value.lineTo(f,r+s.value/2),e.value.stroke()})}function x(){e.value.clearRect(0,0,l.value.width,l.value.height);const a=l.value.width/2-d.value,u=l.value.height/2-d.value;let o=u;h.data.forEach((i,n)=>{const M=e.value.measureText(i.name).width+20;let w=Math.max(100,M);const f=a+(w+d.value)*(n%5),r=u+(s.value+T.value)*Math.floor(n/5);r+s.value>o&&(o=r+s.value),X(i,f,r)})}return(a,u)=>(W(),k("canvas",{ref_key:"canvas",ref:l,onWheel:y,onMousedown:R,onMousemove:b,onMouseup:A,style:{border:"1px solid black"}},null,544))}},I={class:"w-full h-full"},L={__name:"TestCodeum",setup(Y){const h=C(()=>B.entities.items);return(l,e)=>(W(),k("div",I,[E(S,{data:h.value},null,8,["data"])]))}};export{L as default};
