import{c as v,r as h,u as V,o as n,a as i,f as a,b as s,t as c,e as k,F as p,i as f,d as m,H as D,J as I,v as $}from"./index.71477777.js";import{u as A}from"./useGoblinState.1468cd0a.js";import F from"./CollapseIcon.45f076de.js";import z from"./QuestionIcon.63ef825a.js";import"./plugin-vue_export-helper.21dcd24c.js";const E=["src"],G={key:1,class:"inset-x-0 h-fit w-full rounded-t-2xl border border-b-0 border-silver bg-gray px-2 md:w-fit xl:px-6"},H={class:"mb-2 flex justify-center"},J={class:"overflow-hidden"},L=["src"],T={class:"ml-4 w-3/4"},U=s("div",{class:"subtitle mx-auto"},'\u041A\u0440\u044F\u0433\u0437 "\u042F\u0434\u0440\u043E"',-1),q={class:"flex justify-between"},K={class:"mr-auto w-56 rounded-lg border border-second p-1 text-center"},O={class:"flex justify-center"},Q={class:"flex h-fit w-fit max-w-[132px] flex-col flex-wrap"},R={class:"hidden w-full flex-wrap xs:flex"},W=["onMouseenter"],X=["src","onClick"],Y=["onClick"],Z={class:"flex-1 pl-1 pr-4 xl:px-6"},ee=s("span",null,[m("\u043E\u0441\u043D\u043E\u0432\u043D\u044B\u0435 "),s("br"),m("\u043F\u0430\u0440\u0430\u043C\u0435\u0442\u0440\u044B:")],-1),te={class:"ml-1"},se={class:"px-1 xl:px-6"},le=s("span",null,[m(" \u0434\u043E\u043F\u043E\u043B\u043D\u0438\u0442\u0435\u043B\u044C\u043D\u044B\u0435 "),s("br")],-1),ae=s("span",null,"\u043F\u0430\u0440\u0430\u043C\u0435\u0442\u0440\u044B:",-1),oe={class:"ml-1"},de={__name:"AppUserBoard",setup(ne){const{user:l,itemsStats:e,removeItem:g}=A(),S=v(()=>{let o=0;switch(l.goblin.mainParam){case"\u0421\u0438\u043B\u0430":o=l.goblin.stats.strength+e.value.strength;break;case"\u041B\u043E\u0432\u043A\u043E\u0441\u0442\u044C":o=l.goblin.stats.agility+e.value.agility;break;default:o=l.goblin.stats.intelligence+e.value.intelligence;break}return e.value.attack+o}),C=v(()=>e?Math.floor(1+e.value.defence+(l.goblin.stats.agility+e.value.agility)/3):0),M=v(()=>e.value.strength*20+e.value.hp),P=v(()=>e.value.intelligence*15+e.value.mp),d=h(""),x=h(!1),b=(o,r)=>{x.value=!!o,o&&(d.value=o,d.value.index=r)},j=v(()=>[{title:"hp:",value:M},{title:"mp:",value:P},{title:"\u0441\u0438\u043B\u0430:",value:e.value.strength},{title:"\u043B\u043E\u0432\u043A\u043E\u0441\u0442\u044C:",value:e.value.agility},{title:"\u0440\u0430\u0437\u0443\u043C:",value:e.value.intelligence},{title:"\u0443\u0440\u043E\u043D:",value:S.value+l.attackPoints*100},{title:"\u0437\u0430\u0449\u0438\u0442\u0430:",value:C.value+l.defencePoints*3}]),B=v(()=>[{title:"\u0443\u0434\u0430\u0447\u0430:",value:e.value.luck||0},{title:"\u043C\u0430\u0433. \u0440\u0435\u0437\u0438\u0441\u0442:",value:`${e.value.resist||0}%`},{title:"c\u043A\u043E\u0440\u043E\u0441\u0442\u044C \u0431\u0435\u0433\u0430:",value:e.value.ms||0},{title:"c\u043A\u043E\u0440\u043E\u0441\u0442\u044C \u0430\u0442\u0430\u043A\u0438:",value:e.value.as>=500?"max":`${e.value.as||0}%`},{title:"\u0440\u0435\u0433\u0435\u043D\u0435\u0440\u0430\u0446\u0438\u044F hp:",value:`${e.value.hp_regeneration+Math.floor(e.value.strength/100)||0}/\u0441\u0435\u043A`},{title:"\u0440\u0435\u0433\u0435\u043D\u0435\u0440\u0430\u0446\u0438\u044F mp:",value:`${e.value.mp_regeneration+Math.floor(e.value.intelligence/100)||0}%`}]),u=h(!0),{width:N}=V();return["xxs","xs","sm"].includes(N.value)&&(u.value=!1),(o,r)=>u.value?(n(),i("div",G,[s("div",H,[s("div",J,[s("img",{src:a(l).goblin.src,alt:"logo",class:"h-16 w-16"},null,8,L)]),s("div",T,[U,s("div",q,[s("div",K," \u0423\u0440\u043E\u0432\u0435\u043D\u044C "+c(a(l).level)+", "+c(a(l).goblin.name),1),k(F,{onClick:r[1]||(r[1]=t=>u.value=!u.value)})])])]),s("div",O,[s("div",Q,[s("div",R,[(n(),i(p,null,f(6,t=>{var y,w;return s("div",{key:t,class:"relative m-one h-16 w-16 border-second bg-slot",onMouseenter:_=>b(a(l).inventory[t-1],t),onMouseleave:r[2]||(r[2]=_=>b({}))},[D(s("div",{class:"absolute -top-12 whitespace-nowrap rounded-md border border-primary bg-silver p-2 text-primary"},c(d.value.name),513),[[I,x.value&&((y=d.value)==null?void 0:y.name)&&((w=d.value)==null?void 0:w.index)===t]]),a(l).inventory[t-1]&&a(l).inventory[t-1].src?(n(),i("img",{key:0,src:a(l).inventory[t-1].src,alt:"img",onClick:_=>a(g)(t)},null,8,X)):$("",!0),a(l).inventory[t-1]&&!a(l).inventory[t-1].src?(n(),i("div",{key:1,class:"flex h-16 w-16 bg-silver",onClick:_=>a(g)(t)},[k(z,{class:"m-auto"})],8,Y)):$("",!0)],40,W)}),64))])]),s("div",Z,[ee,(n(!0),i(p,null,f(a(j),t=>(n(),i("div",{class:"flex justify-between",key:t.title},[m(c(t.title)+" ",1),s("span",te,c(t.value),1)]))),128))]),s("div",se,[le,ae,(n(!0),i(p,null,f(a(B),t=>(n(),i("div",{class:"flex justify-between",key:t.title},[m(c(t.title)+" ",1),s("span",oe,c(t.value),1)]))),128))])])])):(n(),i("img",{key:0,src:a(l).goblin.src,alt:"logo",class:"right-2 bottom-2 h-16 w-16",onClick:r[0]||(r[0]=t=>u.value=!u.value)},null,8,E))}};export{de as default};
